<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Escala de Oração • Escola Cristã Clássica</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 min-h-screen">
    <main class="w-full max-w-6xl mx-auto bg-white/90 rounded-3xl shadow-xl border border-blue-200 p-6 flex flex-col gap-6 mt-8 mb-8">
      <header class="text-center space-y-2 animate-fadeInDown">
        <h1 class="text-3xl md:text-4xl font-bold text-blue-900 drop-shadow tracking-tight">Escala de Oração</h1>
        <h2 class="text-xl md:text-2xl text-blue-700 mb-2">Escola Cristã Clássica</h2>
        <div class="w-1/5 mx-auto border-t-2 border-blue-600 mb-2"></div>
      </header>
      <!-- Estatísticas: Hoje, Semana, Mês -->
      <section class="grid grid-cols-1 md:grid-cols-3 gap-4 animate-fadeIn">
        <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 shadow-md border border-blue-300">
          <h3 class="text-sm font-semibold text-blue-800 uppercase tracking-wide mb-2">Hoje</h3>
          <div class="text-3xl font-bold text-blue-900" id="todayTotal">0 min</div>
          <p class="text-xs text-blue-700 mt-1" id="todayCount">0 pessoas</p>
        </div>
        <div class="bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-5 shadow-md border border-indigo-300">
          <h3 class="text-sm font-semibold text-indigo-800 uppercase tracking-wide mb-2">Esta Semana</h3>
          <div class="text-3xl font-bold text-indigo-900" id="weekTotal">0 min</div>
          <p class="text-xs text-indigo-700 mt-1" id="weekCount">0 pessoas</p>
        </div>
        <div class="bg-gradient-to-br from-sky-50 to-sky-100 rounded-xl p-5 shadow-md border border-sky-300">
          <h3 class="text-sm font-semibold text-sky-800 uppercase tracking-wide mb-2">Este Mês</h3>
          <div class="text-3xl font-bold text-sky-900" id="monthTotal">0 min</div>
          <p class="text-xs text-sky-700 mt-1" id="monthCount">0 pessoas</p>
        </div>
      </section>
      <!-- Calendário Semanal Compacto -->
      <section class="mt-4 animate-fadeIn">
        <!-- Navegação de Ano e Mês -->
        <div class="flex justify-between items-center mb-4">
          <div class="flex gap-2">
            <button class="p-2 rounded-lg bg-blue-100 hover:bg-blue-200 transition text-blue-700 font-semibold text-sm" id="prevYear" title="Ano anterior">
              <svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M11 19l-7-7 7-7m8 14l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
              </svg>
            </button>
            <button class="p-2 rounded-lg bg-blue-100 hover:bg-blue-200 transition text-blue-700" id="prevMonth" title="Mês anterior">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
              </svg>
            </button>
          </div>
          <div class="text-center">
            <h3 class="text-lg md:text-xl font-bold text-blue-800" id="weekYearMonth">Janeiro 2025</h3>
            <p class="text-xs text-blue-600" id="weekRange">Semana 1-7</p>
          </div>
          <div class="flex gap-2">
            <button class="p-2 rounded-lg bg-blue-100 hover:bg-blue-200 transition text-blue-700" id="nextMonth" title="Próximo mês">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
              </svg>
            </button>
            <button class="p-2 rounded-lg bg-blue-100 hover:bg-blue-200 transition text-blue-700 font-semibold text-sm" id="nextYear" title="Próximo ano">
              <svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M13 5l7 7-7 7M5 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
              </svg>
            </button>
          </div>
        </div>
        <!-- Calendário da Semana (7 dias) -->
        <div class="grid grid-cols-7 gap-2" id="weekCalendar">
          <!-- Os dias serão preenchidos dinamicamente pelo JavaScript -->
        </div>
        <!-- Botão para voltar à semana atual -->
        <div class="mt-4 text-center hidden" id="goToTodayBtn">
          <button class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold shadow-lg transition hover:bg-blue-700 hover:scale-105" id="goToToday">
            ← Ir para Hoje
          </button>
        </div>
      </section>
      <!-- Painel do Dia Selecionado -->
      <section class="mt-4 p-5 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-md border border-blue-300 hidden" id="dayPanel">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-xl font-bold text-blue-900" id="dayPanelDate">1 de Janeiro, 2025</h3>
          <button class="text-blue-700 hover:text-blue-900 font-bold" id="closeDayPanel">
            ✕
          </button>
        </div>
        <div class="mb-4">
          <div class="text-3xl font-bold text-blue-900 mb-2" id="dayPanelTotal">0 min</div>
          <p class="text-sm text-blue-700" id="dayPanelCount">0 pessoas oraram</p>
        </div>
        <div class="max-h-48 overflow-y-auto space-y-2" id="dayPanelParticipants">
          <!-- Lista de participantes -->
        </div>
      </section>
      <section class="text-center text-lg text-blue-900">
        <p>
          Dedique <span class="font-bold text-blue-700">5 minutos</span> de oração pelo projeto.
          Basta digitar seu nome ou apelido e registrar abaixo.
        </p>
      </section>
      <form class="w-full flex flex-col md:flex-row gap-4 justify-center items-center animate-fadeIn" id="formOracao">
        <input
          type="text"
          id="nameInput"
          class="flex-1 px-4 py-2 rounded-lg border border-blue-400 bg-blue-50 focus:ring-2 focus:ring-blue-500 outline-none transition"
          placeholder="Seu nome ou apelido"
          maxlength="50"
          required
          autocomplete="off"
        />
        <button class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold shadow-lg transition hover:bg-blue-700 hover:scale-105" type="submit">
          Registrar Oração
        </button>
      </form>
      <section class="mt-6 animate-fadeIn">
        <h3 class="text-center text-xl font-semibold text-blue-800 mb-2">Quem já orou hoje</h3>
        <p class="text-center text-sm text-blue-700 mb-4" id="todayUniqueCount">0 pessoas oraram hoje</p>
        <!-- Container dos cartões -->
        <div aria-live="polite" aria-relevant="additions" class="grid grid-cols-1 sm:grid-cols-2 gap-3" id="cardsList"></div>
        <!-- Estado vazio -->
        <div class="p-4 text-center italic text-blue-400 text-base hidden" id="emptyState">
          Nenhuma oração registrada ainda. Seja o primeiro!
        </div>
      </section>
    </main>
    <!-- Scripts -->
    <script src="./app.js" type="module"></script>
  </body>
</html>
